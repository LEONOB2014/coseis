<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <style type="text/css">
  html {
  -webkit-text-size-adjust: 100%;
  font-family: Georgia, serif;
  word-wrap: break-word;
  }
  body { margin: 2rem 1rem; }
  a { color: currentColor; }
  p { line-height: 1.5; }
  sub, sup { line-height: 0; }
  img, figure {
  display: block;
  margin: 2rem auto;
  max-width: 100%;
  }
  h1, h2, h3, p, ul, ol, pre, table {
  margin: 1rem auto;
  max-width: 36rem;
  }
  h1, h2, h3 {
  margin-top: 2rem;
  page-break-after: avoid;
  }
  h1, h2 {
  text-transform: uppercase;
  font-family: 'Gill Sans', 'Gill Sans MT', 'Avenir', sans-serif;
  font-weight: 500;
  }
  h1 { font-weight: 600; margin-bottom: 0; text-align: center; }
  h1 + h2 { font-weight: 100; margin: 0 auto; text-align: center; }
  h1 + h2 + p {
  font-family: -apple-system, 'BlinkMacSystemFont', sans-serif;
  font-weight: 100;
  text-align: center;
  margin: 0 auto;
  }
  h1 + h2 + p a { text-decoration: none; }
  pre { overflow: auto; font-family: 'Menlo', monospace; }
  pre, div.warn p {
  box-sizing: border-box;
  padding: 0.5rem 1rem;
  border: 1px solid #ccc;
  }
  </style>
</head>
<body>
<h1 id="coseis">COSEIS</h1>
<h2 id="computational-seismology-tools">Computational Seismology Tools</h2>
<p><a href="https://github.com/gely/coseis/">github.com/gely/coseis</a><br />
<a href="http://elygeo.net/coseis/">elygeo.net/coseis</a></p>
<figure>
<img src="figs/Bigten.jpg" />
</figure>
<h2 id="summary">Summary</h2>
<p>Coseis is a toolkit for earthquake simulation featuring:</p>
<ul>
<li><p>The Support Operator Rupture Dynamics (<a href="http://elygeo.net/sord.html">SORD</a>) code for modeling spontaneous rupture and 3D wave propagation.</p></li>
<li><p>SCEC Community Velocity Models (CVM) codes, with MPI parallelization for <a href="https://scec.usc.edu/scecpedia/CVM-S4">Magistrale version</a> (CVM-S), and new <a href="http://elygeo.net/2016-Vs30GTL-Ely+4.html">geotechnical layer implementation</a> for the <a href="http://scec.usc.edu/scecpedia/CVM-H">Harvard version</a> (CVM-H).</p></li>
<li><p>Utilities for mesh generation, coordinate projection, and visualization.</p></li>
</ul>
<p>The primary interface is through a Python module which (for high-performance components) wraps Fortran parallelized with hybrid OpenMP and MPI.</p>
<p>Coseis is written by <a href="http://elygeo.net/">Geoffrey Ely</a> with contributions from Steven Day, Bernard Minster, Feng Wang, Zheqiang Shi, and Jun Zhou. It is licensed under <a href="http://opensource.org/licenses/BSD-2-Clause">BSD</a> terms.</p>
<div class="warn">
<p><strong>WARNING</strong>: Coseis is a research code under active development. Changes are frequent and it has known bugs! The latest committed version may not be your best option or even working. Please contact me for guidance.</p>
</div>
<h2 id="install">Install</h2>
<p>For MacOS only, install <a href="http://itunes.apple.com/us/app/xcode/id497799835">Xcode</a> from the App Store followed by the Xcode the Command Line Tools with:</p>
<pre><code>xcode-select --install</code></pre>
<p>For MacOS only, install <a href="http://brew.sh/">Homebrew</a> and use it to install <a href="http://r.research.att.com/tools/">Fortran</a> with:</p>
<pre><code>brew install gfortran</code></pre>
<p>Clone the source code from the <a href="http://github.com/gely/coseis">Coseis GitHub repository</a>:</p>
<pre><code>git clone git://github.com/gely/coseis.git</code></pre>
<p>Setup python to be able to find the <code>cst</code> package:</p>
<pre><code>cd coseis
python -m cst setup</code></pre>
<h2 id="test">Test</h2>
<p>To run the test suite interactively:</p>
<pre><code>cd tests
python test_runner.py --run=exec</code></pre>
<p>Or, submit a job for batch processing:</p>
<pre><code>python test_runner.py --run=submit</code></pre>
<p>After completion, a report is printed to the screen (or saved in <code>run/test_suite/test_suite.output</code>):</p>
<pre><code>PASSED: cst.tests.hello_mpi.test()
PASSED: cst.tests.point_source.test()
PASSED: cst.tests.pml_boundary.test()
PASSED: cst.tests.kostrov.test()</code></pre>
<h2 id="examples">Examples</h2>
<h3 id="cvm-depth-plane">CVM depth plane</h3>
<p>Extract S-wave velocity at 500 meters depth. Plot using Matplotlib:</p>
<p><a href="scripts/CVM-Slice.py">CVM-Slice.py</a></p>
<figure>
<img src="figs/CVM-Slice-Vs-S.png" />
</figure>
<figure>
<img src="figs/CVM-Slice-Vs-H.png" />
</figure>
<h3 id="cvm-s-fence-diagram">CVM-S fence diagram</h3>
<p>Build a fence diagram similar to Magistrale (2000) figure 10. Plot using Mayavi</p>
<p><a href="scripts/CVM-Fence.py">CVM-Fence.py</a></p>
<figure>
<img src="figs/CVM-Fence-Vp-S.png" />
</figure>
<h3 id="cvm-s-basin-depth">CVM-S basin depth</h3>
<p>Extract 3D mesh and search for the shallowest surface of Vs = 2.5 km/s. Plot over topography using Mayavi.</p>
<p><a href="scripts/CVM-Basins-mesh.py">CVM-Basins-mesh.py</a><br />
<a href="scripts/CVM-Basins-search.py">CVM-Basins-search.py</a><br />
<a href="scripts/CVM-Basins-plot.py">CVM-Basins-plot.py</a></p>
<figure>
<img src="figs/CVM-Basins.png" />
</figure>
</body>
</html>
