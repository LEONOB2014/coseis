SORD USAGE - How to install, test and run the code

SORD has been tested on the following system configurations:

  Operating systems: Linux, IBM AIX, Apple OSX, Sun Solaris
  Fortran 95 compilers: GNU, IBM, Intel, Sun, Portland Group
  MPI implementations: ANL MPICH, IBM, Myricom MPICH-GM

On many systems SORD will be ready to go as is, but may benefit from fine
tuning.  Machines with specialized parallel environments will take extra
configuration.  Here are the steps for installation and testing SORD:


1. SORD is distributed as a gzipped tar archive.  Unpack the archive and enter
the 'sord' directory:

   tar zxvf sord.tgz
   cd sord/


2. Configuration, compilation and execution are all handled by a wrapper script
called 'sord'.  The script takes an input file as its argument, and takes a
number of optional flags (documented within the script).  First, test serial
compilation by running the script:

   ./sord -s in/test/tpv3test.m

The '-s' flag ensures that SORD operates in serial mode.  Porting to a new
machine may require modifying compiler options by editing the script
'sh/config'.


3. Next, test serial execution:

  ./sord -si

The '-i' flag tells SORD to run interactively.  When no input file specified,
the most recent one will be used.  You should receive status messages to the
screen, ending with 'Finished!' when the run is complete.  Each time SORD is
executed, a new directory is set up for the particular run, starting with
'run/01'.  The directory contains the executable and scripts to run the code,
and will contain all of the generated output and metadata.


4. The parallel version requires MPI.  If MPI is not already installed, MPICH2
is recommended.  It is available from Argonne National Lab:

  http://www.mcs.anl.gov/research/projects/mpich2

Example install commands for MPICH2:

  ./configure -prefix=$HOME/local --with-device=ch3:shm --enable-f90 --disable-cxx
  make install


5.  Test parallel compilation:

   ./sord -pd

The '-p' flag specifies parallel mode, and the '-d' flag deletes previous run
derctories that we don't need anymore.


5. Launching MPI jobs varies among parallel environments, such as MPD, PBS or
LoadLeveler.  If SORD is already properly configured for your environment, you
will be able to enter the run directory and start the job interactively with
the 'run' script, or submit the job to the batch system with the 'que' script:

  cd out/01
  ./run   # (or ./que)

If you are porting to a new environment, you may have to create a custom
configuration script.  See 'sh/datastar' and 'sh/teragrid' for examples.  The
configuration script should be named exactly as is returned from the 'hostname'
command and placed in the 'sh/' directory, and it will be automatically
executed on that system.  If the hostname is not consistent between logins, you
may be to devise another means to identify the system. Look at the 'sh/config'
script for examples.


