# job parameters
name: job
account: ''
email: ''
run: ''
queue: ''
depend: ''
command: ''
pre: ''
post: ''
force: False
nproc: 1
nthread: 0
nstripe: -2
minutes: 0
pmem: 0
iodir: ''

# machine properties
machine: ''
host: ''
host_opts: {}
queue_opts: []
ppn_range: []
maxnodes: 1
maxcores: 0
maxram: 0
maxtime: 0
rate: 1000000
python: python
f2py_flags: ''

# job scheduler
notify_threshold: 4096
notify: -m abe
launch: mpiexec -np {nproc} {command}
submit: qsub {notify} {submit_flags} "{name}.sh"
submit2: qsub {notify} -W depend="afterok:{depend}" {submit_flags} "{name}.sh"
submit_flags: ''
submit_pattern: (?P<jobid>\d+\S*)\D*$

# job script
script: |
    #!/bin/sh
    cd "{rundir}"
    env >> "{name}.env"
    echo "$( date ): {name} started" >> "{name}.out"
    {pre} >> "{name}.out"
    {launch} >> "{name}.out"
    {post} >> "{name}.out"
    echo "$( date ): {name} finished" >> "{name}.out"

# machine host name mapping
host_map:
- [ALCF-BGQ,    vestalac1.ftd.alcf.anl.gov]
- [ALCF-BGQ,    cetuslac1.fst.alcf.anl.gov]
- [ALCF-BGQ,    miralac1.fst.alcf.anl.gov]
- [ALCF-BGP,    surveyor.alcf.anl.gov]
- [ALCF-BGP,    challenger.alcf.anl.gov]
- [ALCF-BGP,    intreplid.alcf.anl.gov]
- [IBM-Wat2Q,   grotius.watson.ibm.com]
- [NICS-Kraken, kraken]
- [USC-HPC,     hpc-login1.usc.edu]
- [USC-HPC,     hpc-login2-l.usc.edu]
- [Airy,        airy]
